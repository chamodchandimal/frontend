<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./index.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;500;700&display=swap"
    />
    <style>
      /* Style for the popup */
      .popup {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999;
        background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      }

      .popup-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 700px; /* Set width to 1000px */
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
      }

      /* Style for the registration form */
      .registration-form {
        margin-bottom: 20px;
      }

      .registration-form label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .registration-form input,
      .registration-form select {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .registration-form button {
        padding: 10px 20px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .registration-form button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <div class="resturant-admin">
      <section class="logo-frame">
        <div class="menu-frame">
          <img
            class="th08812-1-scaled-1-icon"
            alt=""
            src="./public/2th088121scaled-1@2x.png"
          />

          <header class="component-5">
            <div class="frame-home-wrapper">
              <div class="frame-home"></div>
            </div>
            <img
              class="update-logout-frame"
              loading="eager"
              alt=""
              src="./public/233866-1@2x.png"
            />

            <div class="rice-curry-frame">
              <div class="registration-update-frame">
                <div class="index"><a href="../index/index.html">Home</a></div>
                <div class="wallet"><a href="../user registration/index.html">Registration</a></div>
                <div class="registration"><a href="../order details/index.html">Order</a></div>
                <div class="transactions"><a href="../tranaction/index.html">Tracking</a></div>
                <div class="order"><a href="../wallet/index.html">Wallet</a></div>
                <div class="update"><a href="../update/index.html">Update</a></div>
                <div class="log-out"><a href="../logout.html">Log out</a></div>
              </div>
            </div>
          </header>
          <div class="home-wallet-frame">
            <div class="frame-rice">
              <button class="rice-curry-wrapper" onclick="showRegistrationForm()">
                <b class="rice-curry">Register</b>
              </button>
              <button class="rice-curry-container">
                <b class="rice-curry1">Update</b>
              </button>
            </div>
          </div>
        </div>
      </section>
      <!-- Popup box for registration form -->
      <div class="popup" id="registrationPopup">
        <div class="popup-content">
          <h2>Registration</h2>
          <form id="registerForm" class="registration-form" action="https://backend-my28.onrender.com/user/register" method="post">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="shopname">Shop Name:</label>
            <input type="text" id="shopname" name="shopname" required>

            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            

            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" required>

            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required>

            <label for="bank">Bank Name:</label>
            <input type="text" id="bank" name="bank" required>

            

            <label for="acc">Account Number:</label>
            <input type="text" id="acc" name="acc" required>

            <label for="type">Type:</label>
            <select id="type" name="type">
              <option value="shop">Shop</option>
              <option value="rider">Rider</option>
              <option value="customer">Customer</option>
            </select>

            <button type="submit">Submit</button>
          </form>
          <button onclick="hideRegistrationForm()">Close</button>
        </div>
      </div>
    </div>

    <script>
      document.getElementById("registerForm").addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the form from submitting normally
    
        // Get form data
        const formData = new FormData(this);
    
        // Convert form data to JSON
        const jsonData = {};
        formData.forEach((value, key) => {
          jsonData[key] = value;
        });
    
        // Send data to backend
        fetch(this.action, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(jsonData)
        })
          .then(response => {
            if (!response.ok) {
              throw new Error("Network response was not ok");
            }
            return response.json();
          })
          .then(data => {
            // Handle successful login response
            console.log(data); // You can do further processing here
          })
          .catch(error => {
            // Handle error
            console.error("erreor:", error);
            // Display error message
            alert(error);
          });
      });
    </script>
   

    <script>
      // Function to show the registration form popup
      function showRegistrationForm() {
        document.getElementById('registrationPopup').style.display = 'block';
      }

      // Function to hide the registration form popup
      function hideRegistrationForm() {
        document.getElementById('registrationPopup').style.display = 'none';
      }
    </script>
  </body>
</html>
